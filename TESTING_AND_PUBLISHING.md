# AutoPurge 测试和发布指南

## 🧪 本地测试方法

### 方法1：直接加载扩展文件夹（推荐用于测试）

1. **打开Chrome扩展管理页面**
   - 在Chrome地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在页面右上角找到"开发者模式"开关
   - 点击启用

3. **加载已解压的扩展程序**
   - 点击"加载已解压的扩展程序"按钮
   - 选择项目中的`extension`文件夹
   - 点击"选择文件夹"

4. **验证安装**
   - 扩展应该出现在扩展列表中
   - 状态显示为"已启用"
   - 在工具栏中看到扩展图标

### 方法2：使用ZIP包（用于发布）

1. **构建ZIP包**
   ```bash
   npm run zip
   ```

2. **加载ZIP包**
   - 将ZIP文件拖拽到`chrome://extensions/`页面
   - 或者解压后使用"加载已解压的扩展程序"

## ✅ 功能测试清单

### 基础功能测试
- [ ] 扩展图标显示正常
- [ ] 点击图标弹出popup
- [ ] 选项页面可以正常打开
- [ ] 设置可以保存和加载

### 核心功能测试
- [ ] 添加自定义域名
- [ ] 访问匹配的网站
- [ ] 历史记录自动删除
- [ ] 统计信息正确显示

### 权限测试
- [ ] 扩展请求的权限合理
- [ ] 没有不必要的权限请求
- [ ] 权限说明清晰

## 🚀 Chrome Web Store 发布

### 发布前准备
1. **确保本地测试通过**
   - 所有功能正常工作
   - 没有明显的bug
   - 用户体验良好

2. **准备发布材料**
   - 扩展包（ZIP文件）
   - 扩展截图
   - 详细描述
   - 隐私政策URL

### 发布步骤

#### 第一步：开发者账户
1. 访问 [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole/)
2. 使用Google账户登录
3. 支付$5.00开发者注册费
4. 完成账户验证

#### 第二步：创建新项目
1. 点击"Add new item"
2. 选择"Chrome Extension"
3. 上传扩展包

#### 第三步：填写信息
- **扩展名称**: AutoPurge - History Cleaner
- **简短描述**: Automatically purge browsing history for specified domains
- **详细描述**: 参考`CHROME_STORE_LISTING.md`
- **类别**: Productivity
- **语言**: English

#### 第四步：上传媒体
- **图标**: 128x128 PNG格式
- **截图**: 至少1张，建议1280x800或640x400
- **隐私政策**: 提供网页URL

#### 第五步：提交审核
1. 检查所有必填字段
2. 验证扩展功能
3. 点击"Submit for Review"
4. 等待审核结果（1-3个工作日）

## 🔧 故障排除

### 扩展无法加载
**问题**: 扩展显示"无法加载"错误

**解决方案**:
1. 检查manifest.json语法是否正确
2. 确保所有引用的文件都存在
3. 检查文件权限
4. 尝试重新构建扩展包

### 权限问题
**问题**: 扩展请求过多权限

**解决方案**:
1. 检查manifest.json中的permissions
2. 移除不必要的权限
3. 确保权限使用合理

### 功能不工作
**问题**: 扩展安装后功能异常

**解决方案**:
1. 检查浏览器控制台错误
2. 验证所有JavaScript文件
3. 检查Chrome版本兼容性

## 📱 发布后维护

### 监控指标
- 安装量
- 用户评分
- 评论反馈
- 错误报告

### 版本更新
1. 修改版本号
2. 更新功能
3. 重新构建
4. 上传新版本

### 用户支持
- 及时响应用户反馈
- 修复报告的问题
- 添加用户请求的功能

## 🎯 成功发布的关键

### 技术质量
- ✅ 代码稳定可靠
- ✅ 功能完整
- ✅ 性能良好
- ✅ 兼容性强

### 用户体验
- ✅ 界面美观
- ✅ 操作简单
- ✅ 功能明确
- ✅ 响应及时

### 合规性
- ✅ 符合Chrome Web Store政策
- ✅ 隐私保护到位
- ✅ 权限使用合理
- ✅ 描述准确真实

---

**重要提示**: 本地测试通过后，建议先发布到Chrome Web Store进行小范围测试，收集用户反馈后再进行推广。

**祝你发布成功！** 🎉
